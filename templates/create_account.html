<!DOCTYPE html>
<html>
  <head>
    <title>pieT</title>
    <link href='http://fonts.googleapis.com/css?family=Lato:400,100,100italic,300,300italic,400italic,700italic,700,900,900italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Raleway:400,100,200,500,300,600,700,800,900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="css/hexagon.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
  </head>
  <body class="container login_container">
    <!--header -->
    <header>
      <div class='logo'>
        <span>PIE TRACK</span>
      </div>
      <div class='text'>
        <h3>Track your project</h3>
        <div class="tag">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent sed malesuada justo. Nam sed lectus vel sem accumsan mollis.</div>
      </div>
      <div class="clearfix"></div>
    </header>
    <!--/ headetr -->
    <!-- content -->
    <div class="row login_content">
      <!-- form div -->
      <div class="form_div">
        <span class='icon-hexagon1 hex1_left'></span>
        <span class='icon-hexagon1 hex2_left'></span>
        <span class='icon-hexagon1 hex1_right'></span>
        <span class='icon-hexagon1 hex2_right'></span>
        <span class='icon-hexagon1 hex3_right'></span>
        <span class='icon-hexagon1 hex4_right'></span>
        <!-- tag -->
        <div class="border_div login">
          <div class="content_wrap">
            <div class="icon_div">
              <span class='icon-hexagon1 hex1_dash_left'></span>
              <i class='fa fa-users icon_upon'></i>
            </div>
            <div class="button_div">
              <button>login</button>
            </div>
          </div>
        </div>
        <!--/ tag -->
        <!-- tag -->
        <div class="border_div create_acc">
          <div class="content_wrap">
            <div class="icon_div">
              <span class='icon-hexagon1 hex1_dash_left'></span>
              <i class='fa fa-users icon_upon'></i>
            </div>
            <div class="button_div">
              <button>Forgot Password</button>
            </div>
          </div>
        </div>
        <!--/ tag -->
        <!-- tag -->
        <div class="border_div pm">
          <div class="content_wrap">
            <div class="icon_div">
              <span class='icon-hexagon1 hex1_dash_left'></span>
              <i class='fa fa-users icon_upon'></i>
            </div>
            <div class="ticket">
              <h3>Project Management</h3>
              <div class="tag_description"> Quisque vehicula euismod lacinia. Ut diam sem, rutrum ut lectus et, tempor </div>
            </div>
          </div>
        </div>
        <!--/ tag -->
        <!-- tag -->
        <div class="border_div tm">
          <div class="content_wrap">
            <div class="icon_div">
              <span class='icon-hexagon1 hex1_dash_left'></span>
              <i class='fa fa-users icon_upon'></i>
            </div>
            <div class="ticket">
              <h3>Time Management</h3>
              <div class="tag_description"> Quisque vehicula euismod lacinia. Ut diam sem, rutrum ut lectus et, tempor </div>
            </div>
          </div>
        </div>
        <!--/ tag -->
        <!-- tag -->
        <div class="border_div milestones">
          <div class="content_wrap">
            <div class="icon_div">
              <span class='icon-hexagon1 hex1_dash_left'></span>
              <i class='fa fa-users icon_upon'></i>
            </div>
            <div class="ticket">
              <h3>Create Milestones</h3>
              <div class="tag_description"> Quisque vehicula euismod lacinia. Ut diam sem, rutrum ut lectus et, tempor </div>
            </div>
          </div>
        </div>
        <!--/ tag -->
        <!-- tag -->
        <div class="border_div teams">
          <div class="content_wrap">
            <div class="icon_div">
              <span class='icon-hexagon1 hex1_dash_left'></span>
              <i class='fa fa-users icon_upon'></i>
            </div>
            <div class="ticket">
              <h3>Assign teams</h3>
              <div class="tag_description"> Quisque vehicula euismod lacinia. Ut diam sem, rutrum ut lectus et, tempor </div>
            </div>
          </div>
        </div>
        <!--/ tag -->
        <div class="title_flap">Create account</div>
        <div class="form-group">
          <label>Email address</label>
          <input id = 'email_id' type="email" class="form-control"><span id = 'error_email_id'></span>
        </div>
        <div class="form-group">
          <label>Full name</label>
          <input id = 'full_name_id' type="text" class="form-control"><span id = 'error_full_name_id'></span>
        </div>
        <div class="form-group">
          <label>Password</label>
          <input id = 'password_id' type="passowrd" class="form-control"><span id = 'error_password_id'></span>
        </div>
        <div class="form-group">
          <label>Confirm passowrd</label>
          <input id = 'confirm_password_id' type="password" class="form-control"><span id = 'error_confirm_password_id'></span>
        </div>
        <div class="form-group">
            <label>user name (case sensitive)</label><span id = 'error_username_id'></span>
          <input id = 'username_id' type="text" class="form-control">
        </div>
        <div class="form-group">
            <button id = 'button_id' class='button'>Sign up for free</button><span id = 'error_button_id'></span>
        </div>
        <div class="form-group">
          <span class='tag_text'>Are you an exixting member? <a>log in</a></span>
        </div>
      </div>
      <!--/ form div -->
    </div>
    <!--/ content -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/hexagon.js"></script>

    <script>
        function disp_error(result){
            if(result){
                return result;
            }
            else{
                return '';
            }
        }
    </script>

    <script>
        $('#button_id').click(function(event){
                var email = $('#email_id').val()
                var full_name = $('#full_name_id').val().split(' ')
                var first_name = full_name[0]
                var last_name = full_name[1]
                var password = $('#password_id').val()
                var confirm_password = $('#confirm_password_id').val()
                var username = $('#username_id').val()

                $.post('', {'email': email, 'first_name': first_name, 'last_name': last_name, 'password': password, 'confirm_password': confirm_password, 'username': username}, function(result){
                    if(result['error']){
                        $('#error_button_id').text(disp_error(result['error_msg']))
                        $('#error_email_id').text(disp_error(result['form_errors'].email))
                        $('#error_username_id').text(disp_error(result['form_errors'].username))
                        $('#error_password_id').text(disp_error(result['form_errors'].password))
                        $('#error_confirm_password_id').text(disp_error(result['form_errors'].confirm_password))
                        if(password !== '' && confirm_password !== '' && password !== confirm_password){
                            $('#error_confirm_password_id').text('password mismatch')
                        }
                    }
                    else{
                        alert('user_created')
                    }
                });
        });
    </script>
  </body>
</html>
